
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DiagramsTests</title>
    
<style>
body {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif;
    line-height: 1.6;
    margin: 0;
    padding: 0;
    background-color: #f8f9fa;
    color: #333;
}
.container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 20px;
}
.content {
    background-color: #fff;
    padding: 30px;
    border-radius: 5px;
    box-shadow: 0 2px 5px rgba(0,0,0,0.1);
}
h1 {
    color: #333;
    border-bottom: 2px solid #eaecef;
    padding-bottom: 10px;
    margin-top: 0;
}
h2 {
    color: #333;
    border-bottom: 1px solid #eaecef;
    padding-bottom: 5px;
}
h3 {
    color: #1a6fb7;
    margin-top: 25px;
}
h4 {
    color: #555;
    font-weight: 600;
}
a {
    color: #0366d6;
    text-decoration: none;
}
a:hover {
    text-decoration: underline;
}
table {
    border-collapse: collapse;
    width: 100%;
    margin: 20px 0;
}
table, th, td {
    border: 1px solid #dfe2e5;
}
th, td {
    padding: 8px 12px;
    text-align: left;
}
th {
    background-color: #f6f8fa;
}
code {
    background: #f6f8fa;
    padding: 2px 4px;
    border-radius: 3px;
    font-family: SFMono-Regular, Consolas, "Liberation Mono", Menlo, monospace;
    font-size: 90%;
}
pre {
    background: #f6f8fa;
    border-radius: 3px;
    padding: 16px;
    overflow: auto;
}
pre code {
    background: transparent;
    padding: 0;
}
blockquote {
    margin: 0;
    padding: 0 15px;
    color: #777;
    border-left: 4px solid #dfe2e5;
}
.mermaid {
    margin: 20px 0;
    text-align: center;
}
</style>

    <!-- Enhanced mermaid configuration for ReqFlow diagrams -->
    <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
    <script>
        mermaid.initialize({ 
            startOnLoad: true,
            theme: 'neutral',
            maxTextSize: 90000,
            flowchart: {
                useMaxWidth: true,
                htmlLabels: true,
                curve: 'basis'
            },
            securityLevel: 'loose'
        });
    </script>
</head>
<body>
    <div class="container">
        <div class="content">
            <h1 id="diagram-tests">Diagram Tests</h1>
<p>This document verifies the requirements for ReqFlow’s diagram generation functionality.</p>
<h2 id="diagram-generation-tests">Diagram Generation Tests</h2>
<div class="mermaid">graph LR;
  %% Graph styling
  classDef requirement fill:#f9d6d6,stroke:#f55f5f,stroke-width:1px;
  classDef verification fill:#d6f9d6,stroke:#5fd75f,stroke-width:1px;
  classDef externalLink fill:#d0e0ff,stroke:#3080ff,stroke-width:1px;
  classDef default fill:#f5f5f5,stroke:#333333,stroke-width:1px;

  de2dada38a93e772[&quot;Highlight Changes in Diagrams Verification&quot;];
  click de2dada38a93e772 &quot;https://github.com/ilijaljubicic/ReqFlow/blob/29a17f176519a28e973567d4102beb95f41075ed/Verifications/DiagramsTests.html#highlight-changes-in-diagrams-verification&quot;;
  class de2dada38a93e772 verification;
  fd7388e379372d7b[&quot;UserRequirements.md/Highlight Changes in Diagrams&quot;];
  class fd7388e379372d7b requirement;
  click fd7388e379372d7b &quot;https://github.com/ilijaljubicic/ReqFlow/blob/29a17f176519a28e973567d4102beb95f41075ed/UserRequirements.html#highlight-changes-in-diagrams&quot;;
  de2dada38a93e772 -.-&gt;|verifies| fd7388e379372d7b;
  2dd8375bf8ece1f6[&quot;tests/test-diagram-generation/test.sh&quot;];
  class 2dd8375bf8ece1f6 default;
  click 2dd8375bf8ece1f6 &quot;https://github.com/ilijaljubicic/ReqFlow/blob/29a17f176519a28e973567d4102beb95f41075ed/tests/test-diagram-generation/test.sh&quot;;
  de2dada38a93e772 -.-&gt;|trace| 2dd8375bf8ece1f6;
  732c08823f3f7056[&quot;Filter Relationships by Type Verification&quot;];
  click 732c08823f3f7056 &quot;https://github.com/ilijaljubicic/ReqFlow/blob/29a17f176519a28e973567d4102beb95f41075ed/Verifications/DiagramsTests.html#filter-relationships-by-type-verification&quot;;
  class 732c08823f3f7056 verification;
  30d97803eba68a13[&quot;UserRequirements.md/Filter Relationships by Type&quot;];
  class 30d97803eba68a13 requirement;
  click 30d97803eba68a13 &quot;https://github.com/ilijaljubicic/ReqFlow/blob/29a17f176519a28e973567d4102beb95f41075ed/UserRequirements.html#filter-relationships-by-type&quot;;
  732c08823f3f7056 -.-&gt;|verifies| 30d97803eba68a13;
  732c08823f3f7056 -.-&gt;|trace| 2dd8375bf8ece1f6;
  2f7223b3574da08d[&quot;Diagram Storage Verification&quot;];
  click 2f7223b3574da08d &quot;https://github.com/ilijaljubicic/ReqFlow/blob/29a17f176519a28e973567d4102beb95f41075ed/Verifications/DiagramsTests.html#diagram-storage-verification&quot;;
  class 2f7223b3574da08d verification;
  aee397f35b867556[&quot;UserRequirements.md/Store Automated Diagrams in Designated Locations&quot;];
  class aee397f35b867556 requirement;
  click aee397f35b867556 &quot;https://github.com/ilijaljubicic/ReqFlow/blob/29a17f176519a28e973567d4102beb95f41075ed/UserRequirements.html#store-automated-diagrams-in-designated-locations&quot;;
  2f7223b3574da08d -.-&gt;|verifies| aee397f35b867556;
  2f7223b3574da08d -.-&gt;|trace| 2dd8375bf8ece1f6;
  b59eae4e310ddae5[&quot;Export Diagrams Verification&quot;];
  click b59eae4e310ddae5 &quot;https://github.com/ilijaljubicic/ReqFlow/blob/29a17f176519a28e973567d4102beb95f41075ed/Verifications/DiagramsTests.html#export-diagrams-verification&quot;;
  class b59eae4e310ddae5 verification;
  10c00a1bd12fefa5[&quot;UserRequirements.md/Export Diagrams in Standard Formats&quot;];
  class 10c00a1bd12fefa5 requirement;
  click 10c00a1bd12fefa5 &quot;https://github.com/ilijaljubicic/ReqFlow/blob/29a17f176519a28e973567d4102beb95f41075ed/UserRequirements.html#export-diagrams-in-standard-formats&quot;;
  b59eae4e310ddae5 -.-&gt;|verifies| 10c00a1bd12fefa5;
  b59eae4e310ddae5 -.-&gt;|trace| 2dd8375bf8ece1f6;
  edfca08d368123d1[&quot;Visualize Model Relationships Verification&quot;];
  click edfca08d368123d1 &quot;https://github.com/ilijaljubicic/ReqFlow/blob/29a17f176519a28e973567d4102beb95f41075ed/Verifications/DiagramsTests.html#visualize-model-relationships-verification&quot;;
  class edfca08d368123d1 verification;
  a6a836283607bf45[&quot;UserRequirements.md/Visualize Model Relationships&quot;];
  class a6a836283607bf45 requirement;
  click a6a836283607bf45 &quot;https://github.com/ilijaljubicic/ReqFlow/blob/29a17f176519a28e973567d4102beb95f41075ed/UserRequirements.html#visualize-model-relationships&quot;;
  edfca08d368123d1 -.-&gt;|verifies| a6a836283607bf45;
  edfca08d368123d1 -.-&gt;|trace| 2dd8375bf8ece1f6;
  3721164cd8a1ab90[&quot;Automated Diagram Generation on PR Merge Verification&quot;];
  click 3721164cd8a1ab90 &quot;https://github.com/ilijaljubicic/ReqFlow/blob/29a17f176519a28e973567d4102beb95f41075ed/Verifications/DiagramsTests.html#automated-diagram-generation-on-pr-merge-verification&quot;;
  class 3721164cd8a1ab90 verification;
  f2a7d0df128bcf98[&quot;SystemRequirements/Requirements.md/Automated Diagram Generation on PR Merge&quot;];
  class f2a7d0df128bcf98 requirement;
  click f2a7d0df128bcf98 &quot;https://github.com/ilijaljubicic/ReqFlow/blob/29a17f176519a28e973567d4102beb95f41075ed/SystemRequirements/Requirements.html#automated-diagram-generation-on-pr-merge&quot;;
  3721164cd8a1ab90 -.-&gt;|verifies| f2a7d0df128bcf98;
  d062860f47933799[&quot;.github/workflows/generate_diagrams.yml&quot;];
  class d062860f47933799 default;
  click d062860f47933799 &quot;https://github.com/ilijaljubicic/ReqFlow/blob/29a17f176519a28e973567d4102beb95f41075ed/.github/workflows/generate_diagrams.yml&quot;;
  3721164cd8a1ab90 -.-&gt;|trace| d062860f47933799;
  b95c73d7b3c5e7ac[&quot;Diagram Generation Test&quot;];
  click b95c73d7b3c5e7ac &quot;https://github.com/ilijaljubicic/ReqFlow/blob/29a17f176519a28e973567d4102beb95f41075ed/Verifications/DiagramsTests.html#diagram-generation-test&quot;;
  class b95c73d7b3c5e7ac verification;
  81f9235dedaea6a9[&quot;UserRequirements.md/Automate Diagram Generation&quot;];
  class 81f9235dedaea6a9 requirement;
  click 81f9235dedaea6a9 &quot;https://github.com/ilijaljubicic/ReqFlow/blob/29a17f176519a28e973567d4102beb95f41075ed/UserRequirements.html#automate-diagram-generation&quot;;
  b95c73d7b3c5e7ac -.-&gt;|verifies| 81f9235dedaea6a9;
  b95c73d7b3c5e7ac -.-&gt;|trace| 2dd8375bf8ece1f6;
</div>
<hr />
<h3 id="diagram-generation-test">Diagram Generation Test</h3>
<p>This test verifies that the system can automatically generate and embed mermaid diagrams in requirements documents.</p>
<h4>Metadata</h4>
<ul>
<li>type: verification</li>
</ul>
<h4>Details</h4>
<h5>Acceptance Criteria</h5>
<ul>
<li>System should process requirements files and add/update embedded mermaid diagrams</li>
<li>System should create diagrams that represent relationships between elements</li>
<li>System should preserve any existing custom mermaid diagrams in the documents</li>
<li>System should update automatically generated diagrams when requirements change</li>
<li>System should properly visualize all relationship types (verifies, trace, refines, contains, derives, satisfies, etc.)</li>
<li>System should render relationships with appropriate arrows and formatting</li>
</ul>
<h5>Test Criteria</h5>
<ul>
<li>Command exits with success (0) return code</li>
<li>Modified files contain the expected mermaid diagrams</li>
<li>Custom mermaid diagrams are preserved </li>
<li>Diagram content accurately reflects the relationships defined in the requirements</li>
<li>All relationship types are correctly visualized with proper arrows and labels (verifies, trace, refines, contains, derives, satisfies)</li>
<li>Special relationship types like “deriveReqT” are properly rendered</li>
</ul>
<h5>Test Procedure</h5>
<ol>
<li>Create test fixtures in <code>/tests/test-diagram-generation/</code> with requirements containing various elements and relationships</li>
<li>Create test fixtures that include custom mermaid diagrams to test preservation</li>
<li>Run ReqFlow with the <code>--generate-diagrams</code> flag on the test fixtures</li>
<li>Verify that mermaid diagrams are generated at the beginning of each file</li>
<li>Verify that existing custom mermaid diagrams are preserved</li>
<li>Verify diagram content accurately shows elements and relationships</li>
</ol>
<h4>Relations</h4>
<ul>
<li>verify: <a href="../UserRequirements.html#automate-diagram-generation">UserRequirements.md/Automate Diagram Generation</a></li>
<li>trace: <a href="../../tests/test-diagram-generation/test.sh">tests/test-diagram-generation/test.sh</a></li>
</ul>
<hr />
<h3 id="visualize-model-relationships-verification">Visualize Model Relationships Verification</h3>
<p>This test verifies that the system provides visual representations of relationships within the MBSE model in the generated diagrams.</p>
<h4>Metadata</h4>
<ul>
<li>type: verification</li>
</ul>
<h4>Details</h4>
<h5>Acceptance Criteria</h5>
<ul>
<li>System should generate diagrams showing relationships between model elements</li>
<li>Diagrams should clearly represent different relationship types</li>
<li>Visual representation should aid in understanding dependencies between elements</li>
</ul>
<h5>Test Criteria</h5>
<ul>
<li>Command exits with success (0) return code</li>
<li>Generated diagrams contain all expected relationship types</li>
<li>Relationships are visually differentiated based on their type</li>
<li>Element dependencies are clearly displayed in the diagrams</li>
</ul>
<h5>Test Procedure</h5>
<p>TODO: write test procedure</p>
<h4>Relations</h4>
<ul>
<li>verify: <a href="../UserRequirements.html#visualize-model-relationships">UserRequirements.md/Visualize Model Relationships</a></li>
<li>trace: <a href="../../tests/test-diagram-generation/test.sh">tests/test-diagram-generation/test.sh</a></li>
</ul>
<hr />
<h3 id="filter-relationships-by-type-verification">Filter Relationships by Type Verification</h3>
<p>This test verifies that the system allows users to filter relationships in diagrams by type.</p>
<h4>Metadata</h4>
<ul>
<li>type: verification</li>
</ul>
<h4>Details</h4>
<h5>Acceptance Criteria</h5>
<ul>
<li>System should allow filtering of relationships by type when generating diagrams</li>
<li>Filtering should support different relationship types (dependency, refinement, verification, etc.)</li>
<li>Filtered diagrams should only show the selected relationship types</li>
</ul>
<h5>Test Criteria</h5>
<ul>
<li>Command exits with success (0) return code</li>
<li>Filtering options are correctly applied to diagram generation</li>
<li>Filtered diagrams contain only the specified relationship types</li>
</ul>
<h5>Test Procedure</h5>
<p>TODO: write test procedure</p>
<h4>Relations</h4>
<ul>
<li>verify: <a href="../UserRequirements.html#filter-relationships-by-type">UserRequirements.md/Filter Relationships by Type</a></li>
<li>trace: <a href="../../tests/test-diagram-generation/test.sh">tests/test-diagram-generation/test.sh</a></li>
</ul>
<hr />
<h3 id="diagram-storage-verification">Diagram Storage Verification</h3>
<p>This test verifies that the system properly stores automatically generated diagrams in pre-configured locations.</p>
<h4>Metadata</h4>
<ul>
<li>type: verification</li>
</ul>
<h4>Details</h4>
<h5>Acceptance Criteria</h5>
<ul>
<li>System should store generated diagrams in pre-configured locations</li>
<li>Storage paths should be configurable</li>
<li>Diagrams should be accessible after generation</li>
</ul>
<h5>Test Criteria</h5>
<ul>
<li>Command exits with success (0) return code</li>
<li>Diagrams are saved to the expected pre-configured locations</li>
<li>Diagram files are properly formatted and accessible</li>
</ul>
<h5>Test Procedure</h5>
<p>TODO: write test procedure</p>
<h4>Relations</h4>
<ul>
<li>verify: <a href="../UserRequirements.html#store-automated-diagrams-in-designated-locations">UserRequirements.md/Store Automated Diagrams in Designated Locations</a></li>
<li>trace: <a href="../../tests/test-diagram-generation/test.sh">tests/test-diagram-generation/test.sh</a></li>
</ul>
<hr />
<h3 id="export-diagrams-verification">Export Diagrams Verification</h3>
<p>This test verifies that the system allows users to export generated diagrams in standard formats.</p>
<h4>Metadata</h4>
<ul>
<li>type: verification</li>
</ul>
<h4>Details</h4>
<h5>Acceptance Criteria</h5>
<ul>
<li>System should export diagrams in standard formats (PNG, SVG, PDF)</li>
<li>Export functionality should be user-accessible</li>
<li>Exported diagrams should maintain visual quality and content</li>
</ul>
<h5>Test Criteria</h5>
<ul>
<li>Command exits with success (0) return code</li>
<li>Diagrams are exported in the requested format</li>
<li>Exported files contain the expected diagram content</li>
</ul>
<h5>Test Procedure</h5>
<p>TODO: write test procedure</p>
<h4>Relations</h4>
<ul>
<li>verify: <a href="../UserRequirements.html#export-diagrams-in-standard-formats">UserRequirements.md/Export Diagrams in Standard Formats</a></li>
<li>trace: <a href="../../tests/test-diagram-generation/test.sh">tests/test-diagram-generation/test.sh</a></li>
</ul>
<hr />
<h3 id="highlight-changes-in-diagrams-verification">Highlight Changes in Diagrams Verification</h3>
<p>This test verifies that the system provides an option to highlight changes made to the model in generated diagrams.</p>
<h4>Metadata</h4>
<ul>
<li>type: verification</li>
</ul>
<h4>Details</h4>
<h5>Acceptance Criteria</h5>
<ul>
<li>System should highlight changes in the model when generating diagrams</li>
<li>Highlighting should visually differentiate added, modified, and removed elements</li>
<li>Change highlighting should be optional and user-configurable</li>
</ul>
<h5>Test Criteria</h5>
<ul>
<li>Command exits with success (0) return code</li>
<li>Changes in the model are visually highlighted in the diagrams</li>
<li>Different types of changes have distinct visual indicators</li>
</ul>
<h5>Test Procedure</h5>
<p>TODO: write test procedure</p>
<h4>Relations</h4>
<ul>
<li>verify: <a href="../UserRequirements.html#highlight-changes-in-diagrams">UserRequirements.md/Highlight Changes in Diagrams</a></li>
<li>trace: <a href="../../tests/test-diagram-generation/test.sh">tests/test-diagram-generation/test.sh</a></li>
</ul>
<hr />
<h3 id="automated-diagram-generation-on-pr-merge-verification">Automated Diagram Generation on PR Merge Verification</h3>
<p>This test verifies that the system automatically generates and updates diagrams when pull requests are merged to the main branch.</p>
<h4>Metadata</h4>
<ul>
<li>type: demonstration-verification</li>
</ul>
<h4>Details</h4>
<h5>Acceptance Criteria</h5>
<ul>
<li>System should have a GitHub workflow that automatically generates diagrams on PR merge</li>
<li>The workflow should only be triggered when PRs are merged to the main branch</li>
<li>Generated diagrams and traceability matrix SVG should be committed back to the main branch</li>
<li>The commit message should clearly indicate the automated nature of the change</li>
</ul>
<h5>Test Criteria</h5>
<ul>
<li>Workflow defined in the GitHub workflow configuration correctly</li>
<li>Workflow triggers only on PR merge to main branch</li>
<li>Workflow correctly checks out code, builds the tool, and generates diagrams</li>
<li>Workflow generates a traceability matrix SVG file</li>
<li>Workflow commits and pushes changes back to the main branch</li>
<li>Commit message is informative and standardized</li>
</ul>
<h5>Test Procedure</h5>
<ol>
<li>Create a test branch with modifications to requirements</li>
<li>Create a PR from the test branch to main</li>
<li>Merge the PR to trigger the workflow</li>
<li>Verify the workflow runs successfully</li>
<li>Verify diagrams are updated and committed to the main branch</li>
<li>Verify the traceability matrix SVG is generated and committed</li>
<li>Verify the commit message follows the expected format</li>
</ol>
<h4>Relations</h4>
<ul>
<li>verify: <a href="../SystemRequirements/Requirements.html#automated-diagram-generation-on-pr-merge">SystemRequirements/Requirements.md/Automated Diagram Generation on PR Merge</a></li>
<li>trace: <a href="../../.github/workflows/generate_diagrams.yml">.github/workflows/generate_diagrams.yml</a></li>
</ul>
<hr />

        </div>
    </div>
</body>
</html>
