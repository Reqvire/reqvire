
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DiagramsTests</title>
    
<style>
body {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif;
    line-height: 1.6;
    margin: 0;
    padding: 0;
    background-color: #f8f9fa;
    color: #333;
}
.container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 20px;
}
.content {
    background-color: #fff;
    padding: 30px;
    border-radius: 5px;
    box-shadow: 0 2px 5px rgba(0,0,0,0.1);
}
h1 {
    color: #333;
    border-bottom: 2px solid #eaecef;
    padding-bottom: 10px;
    margin-top: 0;
}
h2 {
    color: #333;
    border-bottom: 1px solid #eaecef;
    padding-bottom: 5px;
}
h3 {
    color: #1a6fb7;
    margin-top: 25px;
}
h4 {
    color: #555;
    font-weight: 600;
}
a {
    color: #0366d6;
    text-decoration: none;
}
a:hover {
    text-decoration: underline;
}
table {
    border-collapse: collapse;
    width: 100%;
    margin: 20px 0;
}
table, th, td {
    border: 1px solid #dfe2e5;
}
th, td {
    padding: 8px 12px;
    text-align: left;
}
th {
    background-color: #f6f8fa;
}
code {
    background: #f6f8fa;
    padding: 2px 4px;
    border-radius: 3px;
    font-family: SFMono-Regular, Consolas, "Liberation Mono", Menlo, monospace;
    font-size: 90%;
}
pre {
    background: #f6f8fa;
    border-radius: 3px;
    padding: 16px;
    overflow: auto;
}
pre code {
    background: transparent;
    padding: 0;
}
blockquote {
    margin: 0;
    padding: 0 15px;
    color: #777;
    border-left: 4px solid #dfe2e5;
}
.mermaid {
    margin: 20px 0;
    text-align: center;
}
</style>

    <!-- Enhanced mermaid configuration for Reqvire diagrams -->
    <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
    <script>
        mermaid.initialize({ 
            startOnLoad: true,
            theme: 'neutral',
            maxTextSize: 90000,
            flowchart: {
                useMaxWidth: true,
                htmlLabels: true,
                curve: 'basis'
            },
            securityLevel: 'loose'
        });
    </script>
</head>
<body>
    <div class="container">
        <div class="content">
            <h1 id="diagram-tests">Diagram Tests</h1>
<p>This document verifies the requirements for Reqvire’s diagram generation functionality.</p>
<h2 id="diagram-generation-tests">Diagram Generation Tests</h2>
<div class="mermaid">graph LR;
  %% Graph styling
  classDef requirement fill:#f9d6d6,stroke:#f55f5f,stroke-width:1px;
  classDef verification fill:#d6f9d6,stroke:#5fd75f,stroke-width:1px;
  classDef externalLink fill:#d0e0ff,stroke:#3080ff,stroke-width:1px;
  classDef default fill:#f5f5f5,stroke:#333333,stroke-width:1px;

  e680d84fe87126e9[&quot;Export Diagrams Verification&quot;];
  click e680d84fe87126e9 &quot;https://github.com/ilijaljubicic/Reqvire/blob/8a68ca1eab81bac7964085e47777a0a92447c6a5/Verifications/DiagramsTests.html#export-diagrams-verification&quot;;
  class e680d84fe87126e9 verification;
  ff7932724ee600f1[&quot;UserRequirements.md/Export Diagrams in Standard Formats&quot;];
  class ff7932724ee600f1 requirement;
  click ff7932724ee600f1 &quot;https://github.com/ilijaljubicic/Reqvire/blob/8a68ca1eab81bac7964085e47777a0a92447c6a5/UserRequirements.html#export-diagrams-in-standard-formats&quot;;
  e680d84fe87126e9 -.-&gt;|verifies| ff7932724ee600f1;
  b296432506bb8be[&quot;tests/test-diagram-generation/test.sh&quot;];
  class b296432506bb8be default;
  click b296432506bb8be &quot;https://github.com/ilijaljubicic/Reqvire/blob/8a68ca1eab81bac7964085e47777a0a92447c6a5/tests/test-diagram-generation/test.sh&quot;;
  e680d84fe87126e9 -.-&gt;|trace| b296432506bb8be;
  f2df5cda6c7588de[&quot;Filter Relationships by Type Verification&quot;];
  click f2df5cda6c7588de &quot;https://github.com/ilijaljubicic/Reqvire/blob/8a68ca1eab81bac7964085e47777a0a92447c6a5/Verifications/DiagramsTests.html#filter-relationships-by-type-verification&quot;;
  class f2df5cda6c7588de verification;
  f3450185979ff229[&quot;UserRequirements.md/Filter Relationships by Type&quot;];
  class f3450185979ff229 requirement;
  click f3450185979ff229 &quot;https://github.com/ilijaljubicic/Reqvire/blob/8a68ca1eab81bac7964085e47777a0a92447c6a5/UserRequirements.html#filter-relationships-by-type&quot;;
  f2df5cda6c7588de -.-&gt;|verifies| f3450185979ff229;
  f2df5cda6c7588de -.-&gt;|trace| b296432506bb8be;
  bc88dca7d6d0492a[&quot;Diagram Storage Verification&quot;];
  click bc88dca7d6d0492a &quot;https://github.com/ilijaljubicic/Reqvire/blob/8a68ca1eab81bac7964085e47777a0a92447c6a5/Verifications/DiagramsTests.html#diagram-storage-verification&quot;;
  class bc88dca7d6d0492a verification;
  9276544d5ee17790[&quot;UserRequirements.md/Store Automated Diagrams in Designated Locations&quot;];
  class 9276544d5ee17790 requirement;
  click 9276544d5ee17790 &quot;https://github.com/ilijaljubicic/Reqvire/blob/8a68ca1eab81bac7964085e47777a0a92447c6a5/UserRequirements.html#store-automated-diagrams-in-designated-locations&quot;;
  bc88dca7d6d0492a -.-&gt;|verifies| 9276544d5ee17790;
  bc88dca7d6d0492a -.-&gt;|trace| b296432506bb8be;
  6723e1748fa33d08[&quot;Automated Diagram Generation on PR Merge Verification&quot;];
  click 6723e1748fa33d08 &quot;https://github.com/ilijaljubicic/Reqvire/blob/8a68ca1eab81bac7964085e47777a0a92447c6a5/Verifications/DiagramsTests.html#automated-diagram-generation-on-pr-merge-verification&quot;;
  class 6723e1748fa33d08 verification;
  273cce972e603178[&quot;SystemRequirements/Requirements.md/Automated Diagram Generation on PR Merge&quot;];
  class 273cce972e603178 requirement;
  click 273cce972e603178 &quot;https://github.com/ilijaljubicic/Reqvire/blob/8a68ca1eab81bac7964085e47777a0a92447c6a5/SystemRequirements/Requirements.html#automated-diagram-generation-on-pr-merge&quot;;
  6723e1748fa33d08 -.-&gt;|verifies| 273cce972e603178;
  6699836c9fa45af6[&quot;.github/workflows/generate_diagrams.yml&quot;];
  class 6699836c9fa45af6 default;
  click 6699836c9fa45af6 &quot;https://github.com/ilijaljubicic/Reqvire/blob/8a68ca1eab81bac7964085e47777a0a92447c6a5/.github/workflows/generate_diagrams.yml&quot;;
  6723e1748fa33d08 -.-&gt;|trace| 6699836c9fa45af6;
  a8e581a16079b6a8[&quot;Diagram Generation Test&quot;];
  click a8e581a16079b6a8 &quot;https://github.com/ilijaljubicic/Reqvire/blob/8a68ca1eab81bac7964085e47777a0a92447c6a5/Verifications/DiagramsTests.html#diagram-generation-test&quot;;
  class a8e581a16079b6a8 verification;
  4d4dad9ce307fade[&quot;UserRequirements.md/Automate Diagram Generation&quot;];
  class 4d4dad9ce307fade requirement;
  click 4d4dad9ce307fade &quot;https://github.com/ilijaljubicic/Reqvire/blob/8a68ca1eab81bac7964085e47777a0a92447c6a5/UserRequirements.html#automate-diagram-generation&quot;;
  a8e581a16079b6a8 -.-&gt;|verifies| 4d4dad9ce307fade;
  a8e581a16079b6a8 -.-&gt;|trace| b296432506bb8be;
  d11becf56f36d005[&quot;Visualize Model Relationships Verification&quot;];
  click d11becf56f36d005 &quot;https://github.com/ilijaljubicic/Reqvire/blob/8a68ca1eab81bac7964085e47777a0a92447c6a5/Verifications/DiagramsTests.html#visualize-model-relationships-verification&quot;;
  class d11becf56f36d005 verification;
  e98d18ae3a41815a[&quot;UserRequirements.md/Visualize Model Relationships&quot;];
  class e98d18ae3a41815a requirement;
  click e98d18ae3a41815a &quot;https://github.com/ilijaljubicic/Reqvire/blob/8a68ca1eab81bac7964085e47777a0a92447c6a5/UserRequirements.html#visualize-model-relationships&quot;;
  d11becf56f36d005 -.-&gt;|verifies| e98d18ae3a41815a;
  d11becf56f36d005 -.-&gt;|trace| b296432506bb8be;
  327e94cd7ded2a7a[&quot;Highlight Changes in Diagrams Verification&quot;];
  click 327e94cd7ded2a7a &quot;https://github.com/ilijaljubicic/Reqvire/blob/8a68ca1eab81bac7964085e47777a0a92447c6a5/Verifications/DiagramsTests.html#highlight-changes-in-diagrams-verification&quot;;
  class 327e94cd7ded2a7a verification;
  efa8bb8c8484bb40[&quot;UserRequirements.md/Highlight Changes in Diagrams&quot;];
  class efa8bb8c8484bb40 requirement;
  click efa8bb8c8484bb40 &quot;https://github.com/ilijaljubicic/Reqvire/blob/8a68ca1eab81bac7964085e47777a0a92447c6a5/UserRequirements.html#highlight-changes-in-diagrams&quot;;
  327e94cd7ded2a7a -.-&gt;|verifies| efa8bb8c8484bb40;
  327e94cd7ded2a7a -.-&gt;|trace| b296432506bb8be;
</div>
<hr />
<h3 id="diagram-generation-test">Diagram Generation Test</h3>
<p>This test verifies that the system can automatically generate and embed mermaid diagrams in requirements documents.</p>
<h4>Metadata</h4>
<ul>
<li>type: verification</li>
</ul>
<h4>Details</h4>
<h5>Acceptance Criteria</h5>
<ul>
<li>System should process requirements files and add/update embedded mermaid diagrams</li>
<li>System should create diagrams that represent relationships between elements</li>
<li>System should preserve any existing custom mermaid diagrams in the documents</li>
<li>System should update automatically generated diagrams when requirements change</li>
<li>System should properly visualize all relationship types (verifies, trace, refines, contains, derives, satisfies, etc.)</li>
<li>System should render relationships with appropriate arrows and formatting</li>
</ul>
<h5>Test Criteria</h5>
<ul>
<li>Command exits with success (0) return code</li>
<li>Modified files contain the expected mermaid diagrams</li>
<li>Custom mermaid diagrams are preserved </li>
<li>Diagram content accurately reflects the relationships defined in the requirements</li>
<li>All relationship types are correctly visualized with proper arrows and labels (verifies, trace, refines, contains, derives, satisfies)</li>
<li>Special relationship types like “deriveReqT” are properly rendered</li>
</ul>
<h5>Test Procedure</h5>
<ol>
<li>Create test fixtures in <code>/tests/test-diagram-generation/</code> with requirements containing various elements and relationships</li>
<li>Create test fixtures that include custom mermaid diagrams to test preservation</li>
<li>Run Reqvire with the <code>--generate-diagrams</code> flag on the test fixtures</li>
<li>Verify that mermaid diagrams are generated at the beginning of each file</li>
<li>Verify that existing custom mermaid diagrams are preserved</li>
<li>Verify diagram content accurately shows elements and relationships</li>
</ol>
<h4>Relations</h4>
<ul>
<li>verify: <a href="../UserRequirements.html#automate-diagram-generation">UserRequirements.md/Automate Diagram Generation</a></li>
<li>trace: <a href="../../tests/test-diagram-generation/test.sh">tests/test-diagram-generation/test.sh</a></li>
</ul>
<hr />
<h3 id="visualize-model-relationships-verification">Visualize Model Relationships Verification</h3>
<p>This test verifies that the system provides visual representations of relationships within the MBSE model in the generated diagrams.</p>
<h4>Metadata</h4>
<ul>
<li>type: verification</li>
</ul>
<h4>Details</h4>
<h5>Acceptance Criteria</h5>
<ul>
<li>System should generate diagrams showing relationships between model elements</li>
<li>Diagrams should clearly represent different relationship types</li>
<li>Visual representation should aid in understanding dependencies between elements</li>
</ul>
<h5>Test Criteria</h5>
<ul>
<li>Command exits with success (0) return code</li>
<li>Generated diagrams contain all expected relationship types</li>
<li>Relationships are visually differentiated based on their type</li>
<li>Element dependencies are clearly displayed in the diagrams</li>
</ul>
<h5>Test Procedure</h5>
<p>TODO: write test procedure</p>
<h4>Relations</h4>
<ul>
<li>verify: <a href="../UserRequirements.html#visualize-model-relationships">UserRequirements.md/Visualize Model Relationships</a></li>
<li>trace: <a href="../../tests/test-diagram-generation/test.sh">tests/test-diagram-generation/test.sh</a></li>
</ul>
<hr />
<h3 id="filter-relationships-by-type-verification">Filter Relationships by Type Verification</h3>
<p>This test verifies that the system allows users to filter relationships in diagrams by type.</p>
<h4>Metadata</h4>
<ul>
<li>type: verification</li>
</ul>
<h4>Details</h4>
<h5>Acceptance Criteria</h5>
<ul>
<li>System should allow filtering of relationships by type when generating diagrams</li>
<li>Filtering should support different relationship types (dependency, refinement, verification, etc.)</li>
<li>Filtered diagrams should only show the selected relationship types</li>
</ul>
<h5>Test Criteria</h5>
<ul>
<li>Command exits with success (0) return code</li>
<li>Filtering options are correctly applied to diagram generation</li>
<li>Filtered diagrams contain only the specified relationship types</li>
</ul>
<h5>Test Procedure</h5>
<p>TODO: write test procedure</p>
<h4>Relations</h4>
<ul>
<li>verify: <a href="../UserRequirements.html#filter-relationships-by-type">UserRequirements.md/Filter Relationships by Type</a></li>
<li>trace: <a href="../../tests/test-diagram-generation/test.sh">tests/test-diagram-generation/test.sh</a></li>
</ul>
<hr />
<h3 id="diagram-storage-verification">Diagram Storage Verification</h3>
<p>This test verifies that the system properly stores automatically generated diagrams in pre-configured locations.</p>
<h4>Metadata</h4>
<ul>
<li>type: verification</li>
</ul>
<h4>Details</h4>
<h5>Acceptance Criteria</h5>
<ul>
<li>System should store generated diagrams in pre-configured locations</li>
<li>Storage paths should be configurable</li>
<li>Diagrams should be accessible after generation</li>
</ul>
<h5>Test Criteria</h5>
<ul>
<li>Command exits with success (0) return code</li>
<li>Diagrams are saved to the expected pre-configured locations</li>
<li>Diagram files are properly formatted and accessible</li>
</ul>
<h5>Test Procedure</h5>
<p>TODO: write test procedure</p>
<h4>Relations</h4>
<ul>
<li>verify: <a href="../UserRequirements.html#store-automated-diagrams-in-designated-locations">UserRequirements.md/Store Automated Diagrams in Designated Locations</a></li>
<li>trace: <a href="../../tests/test-diagram-generation/test.sh">tests/test-diagram-generation/test.sh</a></li>
</ul>
<hr />
<h3 id="export-diagrams-verification">Export Diagrams Verification</h3>
<p>This test verifies that the system allows users to export generated diagrams in standard formats.</p>
<h4>Metadata</h4>
<ul>
<li>type: verification</li>
</ul>
<h4>Details</h4>
<h5>Acceptance Criteria</h5>
<ul>
<li>System should export diagrams in standard formats (PNG, SVG, PDF)</li>
<li>Export functionality should be user-accessible</li>
<li>Exported diagrams should maintain visual quality and content</li>
</ul>
<h5>Test Criteria</h5>
<ul>
<li>Command exits with success (0) return code</li>
<li>Diagrams are exported in the requested format</li>
<li>Exported files contain the expected diagram content</li>
</ul>
<h5>Test Procedure</h5>
<p>TODO: write test procedure</p>
<h4>Relations</h4>
<ul>
<li>verify: <a href="../UserRequirements.html#export-diagrams-in-standard-formats">UserRequirements.md/Export Diagrams in Standard Formats</a></li>
<li>trace: <a href="../../tests/test-diagram-generation/test.sh">tests/test-diagram-generation/test.sh</a></li>
</ul>
<hr />
<h3 id="highlight-changes-in-diagrams-verification">Highlight Changes in Diagrams Verification</h3>
<p>This test verifies that the system provides an option to highlight changes made to the model in generated diagrams.</p>
<h4>Metadata</h4>
<ul>
<li>type: verification</li>
</ul>
<h4>Details</h4>
<h5>Acceptance Criteria</h5>
<ul>
<li>System should highlight changes in the model when generating diagrams</li>
<li>Highlighting should visually differentiate added, modified, and removed elements</li>
<li>Change highlighting should be optional and user-configurable</li>
</ul>
<h5>Test Criteria</h5>
<ul>
<li>Command exits with success (0) return code</li>
<li>Changes in the model are visually highlighted in the diagrams</li>
<li>Different types of changes have distinct visual indicators</li>
</ul>
<h5>Test Procedure</h5>
<p>TODO: write test procedure</p>
<h4>Relations</h4>
<ul>
<li>verify: <a href="../UserRequirements.html#highlight-changes-in-diagrams">UserRequirements.md/Highlight Changes in Diagrams</a></li>
<li>trace: <a href="../../tests/test-diagram-generation/test.sh">tests/test-diagram-generation/test.sh</a></li>
</ul>
<hr />
<h3 id="automated-diagram-generation-on-pr-merge-verification">Automated Diagram Generation on PR Merge Verification</h3>
<p>This test verifies that the system automatically generates and updates diagrams when pull requests are merged to the main branch.</p>
<h4>Metadata</h4>
<ul>
<li>type: demonstration-verification</li>
</ul>
<h4>Details</h4>
<h5>Acceptance Criteria</h5>
<ul>
<li>System should have a GitHub workflow that automatically generates diagrams on PR merge</li>
<li>The workflow should only be triggered when PRs are merged to the main branch</li>
<li>Generated diagrams and traceability matrix SVG should be committed back to the main branch</li>
<li>The commit message should clearly indicate the automated nature of the change</li>
</ul>
<h5>Test Criteria</h5>
<ul>
<li>Workflow defined in the GitHub workflow configuration correctly</li>
<li>Workflow triggers only on PR merge to main branch</li>
<li>Workflow correctly checks out code, builds the tool, and generates diagrams</li>
<li>Workflow generates a traceability matrix SVG file</li>
<li>Workflow commits and pushes changes back to the main branch</li>
<li>Commit message is informative and standardized</li>
</ul>
<h5>Test Procedure</h5>
<ol>
<li>Create a test branch with modifications to requirements</li>
<li>Create a PR from the test branch to main</li>
<li>Merge the PR to trigger the workflow</li>
<li>Verify the workflow runs successfully</li>
<li>Verify diagrams are updated and committed to the main branch</li>
<li>Verify the traceability matrix SVG is generated and committed</li>
<li>Verify the commit message follows the expected format</li>
</ol>
<h4>Relations</h4>
<ul>
<li>verify: <a href="../SystemRequirements/Requirements.html#automated-diagram-generation-on-pr-merge">SystemRequirements/Requirements.md/Automated Diagram Generation on PR Merge</a></li>
<li>trace: <a href="../../.github/workflows/generate_diagrams.yml">.github/workflows/generate_diagrams.yml</a></li>
</ul>
<hr />

        </div>
    </div>
</body>
</html>
